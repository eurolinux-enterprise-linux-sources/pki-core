.\" First parameter, NAME, should be all caps
.\" Second parameter, SECTION, should be 1-8, maybe w/ subsection
.\" other parameters are allowed: see man(7), man(1)
.TH PKICertImport 1 "Jan 30, 2019" "version 10.6" "PKI certificate import tool" Dogtag Team
.\" Please adjust this date whenever revising the man page.
.\"
.\" Some roff macros, for reference:
.\" .nh        disable hyphenation
.\" .hy        enable hyphenation
.\" .ad l      left justify
.\" .ad b      justify to both left and right margins
.\" .nf        disable filling
.\" .fi        enable filling
.\" .br        insert line break
.\" .sp <n>    insert n+1 empty lines
.\" for man page specific macros, see man(7)
.SH NAME
PKICertImport \- Used to safely validate and import certificates into the NSS database.

.SH SYNOPSIS
.PP
\fBUsage: PKICertImport -d <location of nssdb> -i <location of certificate> -n <nickname for certificate> -t <trust flags> -u <usage flags> [-h <hardware token name>] [-f <password file>] [-a]\fP

Validate and import a certificate into the specified NSS database. Verifies signature, trust chain, trust, and usage flags. If a certificate is not valid, it will not be added to the NSS DB or specified hardware token.

.SH DESCRIPTION
.PP
The certificate import utility validates signature, trust chain, trust, and usage flags before importing a certificate into the specified NSS database. This ensures that no certificate is used before its authenticity has been verified. Unlike \fBcertutil\fP, only one invocation is necessary to both validate and import certificates.
.PP
See \fBcertutil\fP for more information about the parameters to \fBPKICertImport\fP.

.SH OPTIONS
.PP
\fBPKICertImport\fP parameters:
.PP
.TP
.B --ascii, -a
The certificate is encoded in ASCII (PEM) format instead of binary format. Optional.

.TP
.B --database, -d <location of NSS db>
The directory containing the NSS database. This is usually the client's personal directory. Required.

.TP
.B --password, -f <location of password file>
The path to a file containing the password to the NSS database. Optional.

.TP
.B --hsm, -h <hardware token name>
Name of the token. By default it takes 'internal'. Optional.

.TP
.B --certificate, -i <location of certificate>
Path to the certificate to import. Required.

.TP
.B --nickname, -n <nickname for the certificate>
Nickname for the certificate in the NSS DB. Required.

.TP
.B --trust, -t <NSS trust flags>
Trust flags for the certificate. See \fBcertutil\fP for more information about the available trust flags. Required.

.TP
.B --usage, -u <NSS usage flags>
Usage to validate the certificate against. See \fBcertutil\fP for more information about available usage flags. Required.

.SH AUTHORS
Alexander Scheel <ascheel@redhat.com>.

.SH COPYRIGHT
Copyright (c) 2019 Red Hat, Inc. This is licensed under the GNU General Public
License, version 2 (GPLv2). A copy of this license is available at
http://www.gnu.org/licenses/old-licenses/gpl-2.0.txt.
